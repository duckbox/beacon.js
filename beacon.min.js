(function(){var e=this.document,b=[],d=function(f,g){e.addEventListener(f,g)},a=function(f){var g;if(e.createEvent){g=e.createEvent("HTMLEvents");g.initEvent(f,true,true)}else{g=e.createEventObject();g.eventType=f}if(e.createEvent){e.dispatchEvent(g)}else{e.fireEvent("on"+g.eventType,g)}},c=function(){this.id=b.length;b.push(this.id);this.isComplete=false;this.status={};this.done=function(f){if(this.isComplete){return}d("beacondef"+this.id,f)};this.complete=function(){this.isComplete=true;a("beacondef"+this.id)};this.listen=function(f,g){this.status[f]=g};this.status=function(f){return this.status[f]()}}}).call(this);